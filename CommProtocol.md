# Introduction #

This should be communication protocol, if translated


# 介绍 #

mycloud 与 libvimim 之间的 TCP/IP 通讯协议

  * 缺省端口号为 10007
  * 所有的传输字符以 base64 编码，传输以 LF 符号结束，也就是 "\n"
  * libvimim 为前端，mycloud 为后端，所有的命令以前端请求发起，以后端回应结束。
  * 目前只有下列四个命令，按请求，回应的顺序。注意回应中的引号仅仅表示这是个字符串，在实际通讯中不存在。
    1. `__`isvalid
      * "True\t9\t`__`\n"
      * 这里是后端告诉前端：我是一个有效的服务器。
    1. `__`getname
      * "输入法名称\t9\t`__`\n"
      * 这里是后端告诉前端这个输入法的名称是什么。
    1. `__`getkeychars
      * "[a-z0-9]\t13\t`__`\n"
      * 这里的输出是一个正则表达式匹配串，用于描述有效码组如果你只包含a-z，或者还包含某个标点符号，在此处加入。
    1. woyouyigemeng
      * "我有一个梦\t13\t`__`\n我有一个\t9\t`__`\n"
      * 这里应当调用输入法的主引擎，对输入进行解析，并返回结果。
      * 解释：输出的汉字必须以 utf-8 序列输出，不同的匹配项之间使用 \n 分割， 单一项目间使用 \t 分割，第二个数字表示具体匹配到的长度， 例如“我有一个”实际只匹配了 woyouyige，那么只匹配 9 个字符。 第三个字段表示提示信息，可以为任意想要的输出，当设定为`__`（两个下划线）时，没有提示信息。